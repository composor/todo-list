!function(){"use strict";function o(t,e){for(var n=arguments.length,o=Array(2<n?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var r=[],l=[],a=o.length,s=(e=e||{}).key||null;for(delete e.key;0<a--;)r.push(o[a]);for(;r.length;){var u=r.pop();if(u&&u.pop)for(a=u.length;a--;)r.push(u[a]);else null!=u&&!0!==u&&!1!==u&&l.push(u)}return o=l,"function"==typeof t?t(e||{},l):{type:t,props:e,children:o,key:s}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=(function(){function u(t){this.value=t}function t(i){var r,l;function a(t,e){try{var n=i[t](e),o=n.value;o instanceof u?Promise.resolve(o.value).then(function(t){a("next",t)},function(t){a("throw",t)}):s(n.done?"return":"normal",n.value)}catch(t){s("throw",t)}}function s(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}(r=r.next)?a(r.key,r.arg):l=null}this._invoke=function(o,i){return new Promise(function(t,e){var n={key:o,arg:i,resolve:t,reject:e,next:null};l?l=l.next=n:(r=l=n,a(o,i))})},"function"!=typeof i.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(t){return this._invoke("next",t)},t.prototype.throw=function(t){return this._invoke("throw",t)},t.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),r=function(){function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}}(),d="http://www.w3.org/1999/xlink",a="http://www.w3.org/2000/svg";function m(t,e){var n={};for(var o in t)n[o]=t[o];for(var i in e)n[i]=e[i];return n}var n=window&&window.requestAnimationFrame||window&&window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};function l(t){return!Array.isArray(t)&&"object"===(void 0===t?"undefined":c(t))}var v=function(t){return t?t.key:null};function y(t,e,n,o,i){var r,l,a,s,u;"key"!==e&&"onComponentDidMount"!==e&&"onComponentDidUpdate"!==e&&"onComponentWillUnmount"!==e&&("style"!==e||"object"!==(void 0===n?"undefined":c(n))||Array.isArray(n)?(e=e.toLowerCase(),"classname"===(u=e)&&(u="class"),a=t,s=n,"dangerouslysetinnerhtml"===(e=u)&&(a.innerHTML=s),e in t&&"list"!==e&&!i?t[e]="no"==n?"":n:null!=n&&"null"!==n&&"false"!==n&&"no"!==n&&"off"!==n&&("xlink-href"===e?(l=n,(r=t).setAttributeNS(d,"href",l),r.setAttribute("href",l)):("true"===n&&(n=""),"dangerouslysetinnerhtml"!==e&&t.setAttribute(e,n))),null!=n&&"null"!==n&&"undefined"!==n&&"false"!==n&&"no"!==n&&"off"!==n||t.removeAttribute(e)):function(t,e,n,o){for(var i in m(o,n)){var r=null==n||null==n[i]?"":n[i];"-"===i[0]?t[e].setProperty(i,r):t[e][i]=r}}(t,e,n,o))}var w=function(t,e,n){t.removeChild(function t(e,n){if(n.props)for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);return e}(e,n)),n&&n.props&&n.props.onComponentDidUnmount&&n.props.onComponentDidUnmount.call(n.props.onComponentDidUnmount,t)};function g(t,e,n,o,i){var r=function t(e,n){var o=void 0;"number"==typeof e&&(e=e.toString()),o="string"==typeof e?document.createTextNode(e):(n=n||"svg"===e.type)?document.createElementNS(a,e.type):document.createElement(e.type);var i=e.props;if(i){for(var r=0;r<e.children.length;r++)o.appendChild(t(e.children[r],n));for(var l in i)y(o,l,i[l],null,n)}return o}(t,e);return n&&(n.insertBefore(r,o),null!=i&&w(n,o,i)),o=r}function k(t,e,n,o,i){if(o!==n){if(null==n||n.type!==o.type)e=g(o,i,t,e,n);else if(null==n.type)e.nodeValue=o;else{!function(t,e,n,o){for(var i in m(e,n))n[i]!==("value"===i||"checked"===i?t[i]:e[i])&&y(t,i,n[i],e[i],o);t.mounted&&n&&n.onComponentDidUpdate&&n.onComponentDidUpdate.call(n.onComponentDidUpdate,e,n,t)}(e,n.props,o.props,i=i||"svg"===o.type);var r={},l={},a=[],s=n.children,u=o.children;!function(t,e,n,o){for(var i=0;i<n.length;i++){e[i]=t.childNodes[i];var r=v(n[i]);null!=r&&(o[r]=[e[i],n[i]])}}(e,a,s,r);for(var c=0,d=0;d<u.length;){var p=v(s[c]),f=v(u[d]);if(l[p])c++;else if(null==f||f!==v(s[c+1]))if(null==f)null==p&&(k(e,a[c],s[c],u[d],i),d++),c++;else{var h=r[f]||[];p===f?(k(e,h[0],h[1],u[d],i),c++):h[0]?k(e,e.insertBefore(h[0],a[c]),h[1],u[d],i):k(e,a[c],null,u[d],i),l[f]=u[d],d++}else null==p&&w(e,a[c],s[c]),c++}!function(t,e,n,o){for(;o<e.length;)null==v(e[o])&&w(t,n[o],e[o]),o++}(e,s,a,c),function(t,e,n){for(var o in e)n[o]||w(t,e[o][0],e[o][1])}(e,r,l)}return e}}function s(t,e){if(e.render&&(e.componentShouldUpdate||!e.mounted)){var n=e.state;!0!==t&&t&&(n=t),e.container&&"string"==typeof e.container&&(e.selector=e.container,e.container=document.querySelector(e.container));var o=e.render(n),i=void 0;o&&o.props&&o.props.id&&e.container&&(i=e.container&&e.container.querySelector("#"+o.props.id)),i&&!e.mounted&&i.parentNode.removeChild(i);var r=e.element&&e.element.vnode;if(l=r,a=n,!(s=e)||JSON.stringify(l)!==JSON.stringify(s.render(a))){var l,a,s,u,c;if(e.element=(u=e.render(n),(c=e.element)?k(c.parentNode,c,c&&c.vnode,u):c=k(null,null,null,u),c.vnode=u,c),!e.mounted)return e.componentWillMount&&e.componentWillMount(),e.container&&1===e.container.nodeType||console.error("The container for a class component is not a valid DOM node. Check the selector provided for the class to make sure it is a valid CSS selector and that the container exists in the DOM. You might be targeting a nonexistent node."),e.container.appendChild(e.element),e.mounted=!0,void(e.componentDidMount&&e.componentDidMount());e.componentWillUpdate&&e.componentWillUpdate(),e.componentDidUpdate&&e.componentDidUpdate()}}}var u=(new Date).getTime(),e=function(){function e(t){i(this,e),t||(t={}),this.props=t,this.selector=t.container||"body",t.render&&(this.render=t.render),t.state&&(this.state=t.state),this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element=null,t.componentWillMount&&(this.componentWillMount=t.componentWillMount),t.componentDidMount&&(this.componentDidMount=t.componentDidMount),t.componentWillUpdate&&(this.componentWillUpdate=t.componentWillUpdate),t.componentDidUpdate&&(this.componentDidUpdate=t.componentDidUpdate),t.componentWillUnmount&&(this.componentWillUnmount=t.componentWillUnmount)}return r(e,[{key:"componentWillMount",value:function(t){t&&"function"==typeof t&&t.call(t,this)}},{key:"componentDidMount",value:function(t){t&&"function"==typeof t&&t.call(t,this)}},{key:"componentWillUpdate",value:function(t){t&&"function"==typeof t&&t.call(t,this)}},{key:"componentDidUpdate",value:function(t){t&&"function"==typeof t&&t.call(t,this)}},{key:"componentWillUnmount",value:function(t){t&&"function"==typeof t&&t.call(t,this)}},{key:"render",value:function(t){return t}},{key:"setState",value:function(t){!function(t,e){if("function"==typeof t){var n=t.call(e,e.state);n&&(e.state=n)}else if(l(e.state)&&l(t)){var o=e.state;e.state=m(o,t)}else e.state=t}(t,this)}},{key:"update",value:function(t){s(t,this)}},{key:"unmount",value:function(){!function(t){if(t.element){for(var e in t.componentWillUnmount&&t.componentWillUnmount(),t.container.removeChild(t.element),t.container=null,t)delete t[e];delete t.state,t.update=null,t.unmount=null}}(this)}},{key:"state",get:function(){return this[u]},set:function(t){var e=this;this[u]=t,n(function(){return e.update()})}}]),e}(),t=new e({container:"header",render:function(t){return o("nav",null,o("h1",null,t))}});function p(){return Math.floor(1e8*Math.random()+1e3*Math.random())}function f(t){var e=t.props,n=t.item;return o("li",{class:n.active?"active":"","data-id":n.id},o("button",{class:"set-state",onclick:e.setActiveState},o("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},o("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{id:"selection-indicator"},o("path",{d:"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332",id:"checkmark",stroke:"#007AFF","stroke-width":"2"}))))),o("h3",null,n.value),o("button",{class:"delete",onclick:e.deleteItem},"X"))}function h(t){var e=t.props;return o("footer",null,o("div",{id:"totals-view"},o("span",null,1<e.itemsToShow.length?e.itemsToShow.length+" items":e.itemsToShow.length+" item"," left.")),o("p",null,"Show: "),o("div",{id:"show-todo-state"},o("button",{onclick:e.showAll,id:"show-all",class:"selected"},"All"),o("button",{onclick:e.showActive,id:"show-active",class:""},"Active"),o("button",{onclick:e.showCompleted,id:"show-completed",class:""},"Completed")))}var S=function(t){function n(t){i(this,n);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.setActiveState=e.setActiveState.bind(e),e.deleteItem=e.deleteItem.bind(e),e.itemsToShow=[],e.showAll=e.showAll.bind(e),e.showActive=e.showActive.bind(e),e.showCompleted=e.showCompleted.bind(e),e.addItem=e.addItem.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,e),r(n,[{key:"render",value:function(t){var e=this,n=this.state;return this.itemsToShow=[],n.map(function(t){!0===t.active&&e.itemsToShow.push(t)}),o("div",{class:"parent-view"},o("p",{class:"add-todo"},o("input",{type:"text"}),o("button",{class:"addItem",onclick:this.addItem},"Add Item")),o("ul",{class:"todo-list"},t.map(function(t){return o(f,{props:e,item:t})})),o(h,{props:this}))}},{key:"componentDidMount",value:function(){this.input=this.element.querySelector("input")}},{key:"setActiveState",value:function(t){var e=t.target.closest("li").dataset.id,n=this.state,o=n.findIndex(function(t){return t.id==e});n[o].active=!n[o].active,this.setState(n),localStorage.setItem("todo-list",JSON.stringify(n))}},{key:"deleteItem",value:function(t){var e=t.target.closest("li").dataset.id,n=this.state,o=n.findIndex(function(t){return t.id==e});n.splice(o,1),this.setState(n),localStorage.setItem("todo-list",JSON.stringify(n))}},{key:"showAll",value:function(t){this.setSelectedStateOfButtons(t),this.getAllListItems().map(function(t){return t.classList.remove("hidden")})}},{key:"showActive",value:function(t){this.setSelectedStateOfButtons(t);var n=this.getAllListItems();this.state.map(function(t,e){t.active?n[e].classList.remove("hidden"):n[e].classList.add("hidden")})}},{key:"showCompleted",value:function(t){this.setSelectedStateOfButtons(t);var n=this.getAllListItems();this.state.map(function(t,e){t.active?n[e].classList.add("hidden"):n[e].classList.remove("hidden")})}},{key:"setSelectedStateOfButtons",value:function(t){for(var e=t.target,n=0;n<e.parentNode.children.length;n++)e.parentNode.children[n].className="";e.className="selected"}},{key:"addItem",value:function(){var e=this.input.value;e?(this.setState(function(t){return t.push({active:!0,value:e,id:p()}),t}),localStorage.setItem("todo-list",JSON.stringify(this.state)),this.input.value=""):alert("Please provide a todo to add!")}},{key:"getAllListItems",value:function(){return Array.prototype.slice.call(this.element.querySelectorAll("li"))}}]),n}();t.state="Composi Todo List";var b=new S({container:"section",state:[{active:!0,value:"Take a nap",id:p()},{active:!1,value:"Eat a snack",id:p()},{active:!0,value:"Talk with Mom",id:p()}]});document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){var t,e=(t=localStorage.getItem("todo-list"),JSON.parse(t));e&&e.length?b.state=e:b.update()})})}();
//# sourceMappingURL=app.js.map
