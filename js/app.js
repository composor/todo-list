!function(){"use strict";function t(t,e){for(var n=[],o=void 0,i=[],r=arguments.length,s=Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];for(n=n.concat(s.reverse());n.length;)Array.isArray(o=n.pop())?o.map(function(t){return n.unshift(t)}):null!=o&&!0!==o&&!1!==o&&("number"==typeof o&&(o+=""),i.push(o));return"string"==typeof t?{type:t,props:e||{},children:i}:t(e||{},i)}function e(t,e){var n={};for(var o in t)n[o]=t[o];for(var i in e)n[i]=e[i];return n}function n(t,n,o,i){if("key"===n);else if("style"===n)for(var r in e(i,o=o||{}))t.style[r]=String(o[r])||"";else{try{t[n]=o}catch(t){}"function"!=typeof o&&(o?"xlink-href"===n?t.setAttributeNS("http://www.w3.org/1999/xlink","href",o):t.setAttribute(n,o):t.removeAttribute(n))}}function o(t,e){return"string"==typeof t?document.createTextNode(t):function(t,e){var i=(e=e||"svg"===t.type)?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type);return Object.keys(t.props).forEach(function(e){return n(i,e,t.props[e])}),t.children.map(function(t){return i.appendChild(o(t,e))}),i}(t,e)}function i(t){if(t&&t.props)return t.props.key}function r(t,s,l,c,u,d){if(null==l)s=t.insertBefore(o(c,u),s);else if(null!=c.type&&c.type===l.type){!function(t,o,i){Object.keys(e(o,i)).forEach(function(e){var r=i[e],s="value"===e||"checked"===e?t[e]:o[e];r!==s&&n(t,e,r,s)})}(s,l.props,c.props),u=u||"svg"===c.type;for(var h=c.children.length,f=l.children.length,p={},m=[],v={},y=0;y<f;){var w=m[y]=s.childNodes[y],b=l.children[y],g=i(b);null!=g&&(p[g]=[w,b]),y++}for(var k=0,S=0;S<h;){var A=m[k],C=l.children[k],O=c.children[S],I=i(C);if(v[I])k++;else{var N=i(O),x=p[N]||[];null==N?(null==I&&(r(s,A,C,O,u),S++),k++):(I===N?r(s,x[0],x[1],O,u)&&k++:x[0]?s.insertBefore(x[0],A)&&r(s,x[0],x[1],O,u):r(s,A,null,O,u),v[N]=O,S++)}}for(;k<f;){null==i(l.children[k])&&a(s,m[k]),k++}Object.keys(p).forEach(function(t){var e=p[t],n=e[1];v[n.props.key]||a(s,e[0])})}else s&&c!==s.nodeValue&&("string"==typeof c&&"string"==typeof l?s.nodeValue=c:(s=t.insertBefore(o(c,u),d=s),a(t,d,l.data)));return s}function s(){return Math.floor(1e8*Math.random()+1e3*Math.random())}var a=function(t,e){return t.removeChild(e)},l=function(t,e){Object.keys(e).forEach(function(n){e.hasOwnProperty(n)&&Object.defineProperty(t,n,{value:e[n],writable:!0,enumerable:!1,configurable:!0})})},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=(function(){function t(t){this.value=t}function e(e){function n(i,r){try{var s=e[i](r),a=s.value;a instanceof t?Promise.resolve(a.value).then(function(t){n("next",t)},function(t){n("throw",t)}):o(s.done?"return":"normal",s.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}(i=i.next)?n(i.key,i.arg):r=null}var i,r;this._invoke=function(t,e){return new Promise(function(o,s){var a={key:t,arg:e,resolve:o,reject:s,next:null};r?r=r.next=a:(i=r=a,n(t,e))})},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),h=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)},p=(new Date).getTime(),m=function(){function t(e){u(this,t),e||(e={}),this.selector=e.container||e.root||"body",e.render&&(this.render=e.render),e.state&&(this.state=e.state),this.oldNode=null,this.selector&&(this.container=document.querySelector(this.selector)),this.componentShouldUpdate=!0,this.mounted=!1,this.element,e.beforeCreateComponent&&(this.beforeCreateComponent=e.beforeCreateComponent),e.componentWasCreated&&(this.componentWasCreated=e.componentWasCreated),e.componentWillUpdate&&(this.componentWillUpdate=e.componentWillUpdate),e.componentDidUpdate&&(this.componentDidUpdate=e.componentDidUpdate),e.componentWillUnmount&&(this.componentWillUnmount=e.componentWillUnmount)}return d(t,[{key:"setState",value:function(t,e){if("function"==typeof t){var n=t.call(this,this.state);"function"!=typeof n&&n&&this.setState(n)}if(Array.isArray(this.state)){var o=this.state;e||0===e?"object"===c(o[e])?(l(o[e],t),this.state=o):(o[e]=t,this.state=o):this.state=o}else if("object"===c(this.state)){var i=this.state;l(i,t),this.state=i}else this.state=t}},{key:"update",value:function(t){function e(t){try{return JSON.stringify(this.oldNode)!==JSON.stringify(o(t))}catch(t){return!0}}if(this.render){var n=this.state;!0===t||0!==t&&!t||(n=t),this.container&&"string"==typeof this.container&&(this.selector=this.container,this.container=document.querySelector(this.container));var o=this.render,i=this.render(n),s=void 0;if(i&&i.props&&i.props.id)try{s=this.container.querySelector("#"+i.props.id)}catch(t){}if(s&&!this.mounted&&s.parentNode.removeChild(s),this.element=function(t,e,n,o){return r(o||document.body,n,t,e)}(this.oldNode,this.oldNode=this.render(n),this.element,this.container),!(this.mounted&&this.oldNode&&e(n)))return this.beforeCreateComponent&&this.beforeCreateComponent(this),this.componentWasCreated&&this.componentWasCreated(this),void(this.mounted=!0);this.componentWillUpdate&&this.componentWillUpdate(this),this.componentDidUpdate&&e(n)&&this.componentDidUpdate(this)}}},{key:"unmount",value:function(){this.componentWillUnmount&&this.componentWillUnmount(this),this.container.removeChild(this.element),this.container=void 0;for(var t in this)delete this[t];delete this.state,this.update=void 0,this.unmount=void 0}},{key:"state",set:function(t){var e=this;this[p]=t,f(function(){return e.update()})},get:function(){return this[p]}}]),t}();window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e=(this.document||this.ownerDocument).querySelectorAll(t),n=void 0,o=this;do{for(n=e.length;--n>=0&&e.item(n)!==o;);}while(n<0&&(o=o.parentElement));return o});var v=new m({container:"header",render:function(e){return t("nav",null,t("h1",null,e))}}),y=function(e){function n(t){u(this,n);var e=h(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return e.setActiveState=e.setActiveState.bind(e),e.deleteItem=e.deleteItem.bind(e),e.itemsToShow=[],e.showAll=e.showAll.bind(e),e.showActive=e.showActive.bind(e),e.showCompleted=e.showCompleted.bind(e),e.addItem=e.addItem.bind(e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,m),d(n,[{key:"render",value:function(e){var n=this,o=this.state;return this.itemsToShow=[],o.map(function(t){!0===t.active&&n.itemsToShow.push(t)}),t("div",{class:"parent-view"},t("p",{class:"add-todo"},t("input",{type:"text"}),t("button",{class:"addItem",onclick:this.addItem},"Add Item")),t("ul",{class:"todo-list"},e.map(function(e){return t("li",{class:e.active?"active":"","data-id":e.id},t("button",{class:"set-state",onclick:n.setActiveState},t("svg",{width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1"},t("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},t("g",{id:"selection-indicator"},t("path",{d:"M2,13 L9.9294326,16.8406135 L17.1937075,1.90173332",id:"checkmark",stroke:"#007AFF","stroke-width":"2"}))))),t("h3",null,e.value),t("button",{class:"delete",onclick:n.deleteItem},t("svg",{width:"20px",height:"20px",viewBox:"0 0 30 30",version:"1.1"},t("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},t("g",{id:"Delete",stroke:"#FF0000","stroke-width":"2","stroke-linecap":"square"},t("path",{d:"M26.5,3.5 L3.5,26.5",id:"Line"}),t("path",{d:"M3.5,3.5 L26.5,26.5",id:"Line"}))))))})),t("footer",null,t("div",{id:"totals-view"},t("span",null,this.itemsToShow.length>1?this.itemsToShow.length+" items":this.itemsToShow.length+" item"," left.")),t("p",null,"Show: "),t("div",{id:"show-todo-state"},t("button",{onclick:this.showAll,id:"show-all",class:"selected"},"All"),t("button",{onclick:this.showActive,id:"show-active",class:""},"Active"),t("button",{onclick:this.showCompleted,id:"show-completed",class:""},"Completed"))))}},{key:"setActiveState",value:function(t){var e=t.target.closest("li").dataset.id,n=this.state,o=n.findIndex(function(t){return t.id==e});n[o].active=!n[o].active,this.setState(n),localStorage.setItem("todo-list",JSON.stringify(n))}},{key:"deleteItem",value:function(t){var e=t.target.closest("li").dataset.id,n=this.state,o=n.findIndex(function(t){return t.id==e});n.splice(o,1),this.setState(n),localStorage.setItem("todo-list",JSON.stringify(n))}},{key:"showAll",value:function(t){this.setSelectedStateOfButtons(t);this.getAllListItems().map(function(t){return t.classList.remove("hidden")})}},{key:"showActive",value:function(t){this.setSelectedStateOfButtons(t);var e=this.getAllListItems();this.state.map(function(t,n){t.active?e[n].classList.remove("hidden"):e[n].classList.add("hidden")})}},{key:"showCompleted",value:function(t){this.setSelectedStateOfButtons(t);var e=this.getAllListItems();this.state.map(function(t,n){t.active?e[n].classList.add("hidden"):e[n].classList.remove("hidden")})}},{key:"setSelectedStateOfButtons",value:function(t){for(var e=t.target,n=0;n<e.parentNode.children.length;n++)e.parentNode.children[n].className="";e.className="selected"}},{key:"addItem",value:function(){var t=this.element.querySelector("input").value;t?(this.setState({active:!0,value:t,id:s()},this.state.length),localStorage.setItem("todo-list",JSON.stringify(this.state))):alert("Please provide a todo to add!")}},{key:"getAllListItems",value:function(){return Array.prototype.slice.call(this.element.querySelectorAll("li"))}}]),n}();v.state="Composi Todo List";var w=new y({container:"section",state:[{active:!0,value:"Take a nap",id:s()},{active:!1,value:"Eat a snack",id:s()},{active:!0,value:"Talk with Mom",id:s()}]});document.addEventListener("DOMContentLoaded",function(){setTimeout(function(){var t=function(){var t=localStorage.getItem("todo-list");return JSON.parse(t)}();t&&t.length?w.state=t:w.update()})})}();
//# sourceMappingURL=app.js.map
